<html>
<body>
<style type="text/css">
	body,html{
	width:100%;
	height: 100%;
	margin:0;
	padding:0;
	overflow:hidden;
	}
	canvas{
	position:absolute;

	}
</style>

<script src="processing.js"></script>
<script type="text/processing" data-processing-target="mycanvas">
void setup(){
	

	size(window.innerWidth,window.innerHeight);

	frameRate(60);
	background(20, 20, 20);

}




var explarray = [];
var explosion = function(startX,startY,colorInt){
    this.x = startX;
    this.y = startY;
    
    
    var bullarray = [];
    
    fill(255, 191, 0);
    
    this.bullet = function(xpos,ypos,roundedInt){
      this.x = xpos;
      this.y = ypos;
      this.xdir = 0;
      this.ydir = 0;
      this.precolor = [[random(200,230),random(100,150),random(0,80)],[random(100,150),random(200,220),random(50,80)],[random(200,230),random(100,150),random(0,200)]];
      this.size = ceil(random(10,35));
      this.color = this.precolor[roundedInt];
    };
    
    
    for (var  i = 0; i<100;i++){
        bullarray[i] = new this.bullet(startX,startY,colorInt);
        bullarray[i].xdir = random(-1,1)*10;
        bullarray[i].ydir = random(-1,1)*10;
        
    }
    this.life = 0;
    
    this.draw = function() {
        if (this.life<100){
        for (var i = 0; i<100;i++){
         fill(bullarray[i].color[0],bullarray[i].color[1],bullarray[i].color[2]);
         stroke(bullarray[i].color[0]+10,bullarray[i].color[1]+10,bullarray[i].color[2]+10);
         ellipse(bullarray[i].x,bullarray[i].y,bullarray[i].size,bullarray[i].size);  
         bullarray[i].x+=bullarray[i].xdir;
         bullarray[i].y+=bullarray[i].ydir;
         bullarray[i].size-=(bullarray[i].size/100);
        
        }
         this.life++;
        }
    };
    

};
background(0, 0, 0);

void draw() {
 fill(222, 222, 222,20);
 rect(-5,-5,10000,10000);  
 for (var i = 0; i<explarray.length;i++){
  explarray[i].draw();   
 }

};



void mousePressed(){
    append(explarray,new explosion(mouseX,mouseY,round(random(0,2))));
};



</script>
<canvas id="mycanvas"></canvas>
</body>
</html>